@import ../utils/variables
@import ../utils/mixins
@import ../../libs/include-media/dist/include-media

html
  font-size: 62.5%

  // блокировка скролла
  &.css-scroll-fixed:not(.open-only-mob)
    +scroll-blocked

  &.css-scroll-fixed.open-only-mob
    +media('<tab-lg')
      +scroll-blocked

/* === LAYOUT ===
.max-wrap
  max-width: $page-layout-width
  +push-auto

  //&.layout
    max-width: #{$page-layout-width + nth($page-layout-space, 2) * 2}

.layout
  @if nth($page-layout-space, 2) != 0
    +padding-horizontal(nth($page-layout-space, 2))

.layout-narrow
  @if nth($page-layout-space-narrow, 2) != 0
    +padding-horizontal(nth($page-layout-space-narrow, 2))


// выравнивание текстовых элементов на странице статьи (контент обернут в .layout-article)
// и их максимальная ширина
.layout-article
  padding: $text-layout-space

  +media('<tab-lg')
    padding: $text-layout-space--md

  +media('<tab-sm')
    padding: $text-layout-space--sm

  & > p, & > ul, & > ol, & > h1, & > h2, & > h3, & > h4, & > h5, & > h6, & > hr, & > blockquote, & > .layout-text, .imgc figcaption
    max-width: $text-layout-width
    +padding-horizontal(0)
    +push-auto

  .layout-flood
    max-width: $flood-layout-width
    +padding-horizontal(0)
    +push-auto

  // элеметы без отступов по бокам
  // минусовые маржины по горизонтале имеют значение только внутри .layout-article
  .layout-full-width, .layout-wide

    +margin-horizontal(-#{nth($text-layout-space, 2)})

    +media('<tab-lg')
      +margin-horizontal(-#{nth($text-layout-space--md, 2)})

    +media('<tab-sm')
      +margin-horizontal(-#{nth($text-layout-space--sm, 2)})

// максимальная ширина текстовых элементов на внутренней (текстовой) странице
.max-wrap-text
  //max-width: #{$text-layout-width + (nth($text-layout-space, 2))*2}
  max-width: $text-layout-width

//+media('<tab-lg')
  max-width: #{$text-layout-width + (nth($text-layout-space--md, 2))*2}

//+media('<tab-sm')
  max-width: #{$text-layout-width + (nth($text-layout-space--sm, 2))*2}

// выравнивание текстовых элементов на внутренней (текстовой) странице
// и их максимальная ширина
.layout-text
  max-width: #{$text-layout-width + (nth($text-layout-space, 2))*2}
  +padding-horizontal(nth($text-layout-space, 2))
  +push-auto

  +media('<tab-lg')
    max-width: #{$text-layout-width + (nth($text-layout-space--md, 2))*2}
    +padding-horizontal(nth($text-layout-space--md, 2))

  +media('<tab-sm')
    max-width: #{$text-layout-width + (nth($text-layout-space--sm, 2))*2}
    +padding-horizontal(nth($text-layout-space--sm, 2))

// максимальная ширина альтернативных элементов на внутренней (текстовой) странице
.max-wrap-flood
  //max-width: #{$flood-layout-width + (nth($text-layout-space, 2))*2}
  max-width: $flood-layout-width

//+media('<tab-lg')
  max-width: #{$flood-layout-width + (nth($text-layout-space--md, 2))*2}

//+media('<tab-sm')
  max-width: #{$flood-layout-width + (nth($text-layout-space--mob, 2))*2}

// выравнивание альтернативных элементов на внутренней (текстовой) странице
// и их максимальная ширина
.layout-flood
  max-width: #{$flood-layout-width + (nth($text-layout-space, 2))*2}
  +padding-horizontal((nth($text-layout-space, 2)))
  +push-auto

  +media('<tab-lg')
    max-width: #{$flood-layout-width + (nth($text-layout-space--md, 2))*2}
    +padding-horizontal((nth($text-layout-space--md, 2)))

  +media('<tab-sm')
    max-width: #{$flood-layout-width + (nth($text-layout-space--sm, 2))*2}
    +padding-horizontal((nth($text-layout-space--sm, 2)))

  p, ul, ol, h1, h2, h3, h4, h5, h6, hr
    max-width: none

// элеметы с отступами по бокам
.layout-wide
  +padding-horizontal((nth($text-layout-space, 2)))

  +media('<tab-lg')
    +padding-horizontal((nth($text-layout-space--md, 2)))

  +media('<tab-sm')
    +padding-horizontal((nth($text-layout-space--sm, 2)))

  p, ul, ol, h1, h2, h3, h4, h5, h6, hr
    max-width: none

// элеметы без отступов по бокам
.layout-full-width

  p, ul, ol, h1, h2, h3, h4, h5, h6, hr
    max-width: none

// выравнивание по центру блочных элементов
.push-auto
  margin-left: auto
  margin-right: auto

// лэяут страницы
.wrapper
  display: flex
  flex-direction: column
  justify-content: space-between
  align-items: stretch
  margin: 0 auto
  //min-height: 100vh
  //min-height: 100% // not support ie
  //height: 100%
  //overflow: hidden
  //height: 100vh
  min-height: 100vh
  position: relative

/* === LAYOUT end ===

/* === HEADER ===
.header
  position: fixed
  background-color: $base-color
  width: 100%
  min-width: 320px
  height: $header-height
  z-index: 10

  +media('<tab-lg')
    height: $header-height--sm

/* header-top
.header-top
  display: flex
  justify-content: space-between
  height: 43px

.add-menu
  height: 100%
  width: 50%

  html:not(.no-js) &
    opacity: 0
    // transition
    $prop: opacity
    overflow: hidden
    will-change: $prop
    transition:
      property: $prop
      duration: $animation-speed
      timing-function: ease-in-out

    &.priority-nav
      overflow: visible
      opacity: 1


  // for ie 9
  .no-flexwrap &
    display: inline-block
    vertical-align: top

.add-menu__list
  display: inline-block
  list-style: none
  margin: 0
  padding: 0

  li
    display: inline-block
    padding: 0 2rem

.user-options
  height: 100%
  width: 40%

.header-common
  display: flex
  position: relative
  padding-top: 23px
  padding-bottom: 10px
  z-index: 5
  +clear

/* logo
.logo-wrap

  // for ie 9
  .no-flexwrap &
    display: inline-block
    vertical-align: top

.logo
  position: relative
  float: left
  background: url(../../img/logo.png) no-repeat
  width: 165px
  height: 63px
  text-indent: -9999px
  overflow: hidden
  margin: 0 2rem 0 0
  z-index: 5

  a, & > span
    display: block
    height: 100%

/* logo end

/* site-nav
.site-nav
  flex-grow: 1
  display: flex
  justify-content: space-between
  $height: 50px
  height: $height
  border-radius: round($height / 2)
  background-color: #fff

  // for ie 9
  .no-flexwrap &
    display: inline-block
    vertical-align: top

  // for ie 9
  .no-flexwrap & > div
    display: inline-block
    vertical-align: top

/* /site-nav
/* === HEADER end ===

/* === CONTENT ===
.main
  flex-shrink: 1
  flex-grow: 1
  position: relative
  clear: both
  padding-top: $header-height

  +media('<desk-md')
    padding-top: $header-height--sm

  .no-js &
    padding-top: 0

.main__holder
  width: 100%
  +clear

.content-wrap
  float: left
  width: 100%

.content
  margin: 0 200px 0 300px
  min-height: 50px

  background-color: whitesmoke

  +media('<desk-lg')
    margin-right: 0

  +media('<tab-lg')
    margin-left: 0

/* === CONTENT end ===

/* === NAVIGATION ===
.nav
  position: relative

.nav__list
  list-style: none
  margin: 0
  padding: 0
  +clear

  li
    position: relative

    &.has-drop
      padding-right: 2rem

      .nav__angle
        position: absolute
        right: 0
        top: 50%
        transform: translate(0, -50%)
        line-height: 0
        pointer-events: none

  a
    display: block

  & > li
    float: left
    margin-right: 2rem

    &.has-drop > .nav__tab .nav__angle i
      display: inline-block
      vertical-align: top
      +triangle(bottom, tomato, 5px, 2)

.nav__drop
  position: absolute
  left: 0
  top: 100%
  background-color: white
  border: 1px solid $border-color
  padding: 2rem
  width: $page-layout-min
  opacity: 0
  visibility: hidden
  z-index: 10

  li:hover > &
    opacity: 1
    visibility: visible

  li
    margin-bottom: 1rem
    font-size: 1.4rem
    line-height: 1.5

    &.has-drop > .nav__tab .nav__angle i
      display: inline-block
      vertical-align: top
      +triangle(right, tomato, 5px, 2)


  .nav__drop
    top: 0
    left: 100%

/* === NAVIGATION end ===

/* === SIDEBAR ===
.sidebar
  display: inline
  float: left
  margin: 0 0 0 -100%
  width: $sidebar-width

  background-color: sandybrown

  +media('<tab-lg')
    display: none

/* === SIDEBAR end ===

/* === ASIDE ===
.aside
  display: inline
  float: right
  margin: 0 0 0 -#{$aside-width}
  width: $aside-width
  background-color: sandybrown

  +media('<desk-lg')
    display: none

/* === ASIDE end ===

/* === FOOTER ===
.footer
  position: relative
  z-index: 5
  +font(1.4rem, 1.79)
  color: white
  background-color: #2d2d2d

.footer__holder
  cursor: default
  padding-top: nth($footer-space, 1)
  padding-bottom: nth($footer-space, 3)

/* footer-common
.footer-common
  overflow: hidden
  margin-bottom: 5.2rem

  &:last-child
    margin-bottom: 0

.footer-grid
  display: flex
  margin-left: -#{nth($footer-grid-space, 2)}
  margin-right: -#{round-float(nth($footer-grid-space, 2) / 2, 1)}

.footer-grid__item
  display: flex
  flex-grow: 1
  flex-basis: 25%
  flex-direction: column
  padding: 0 0 nth($footer-grid-space, 2)

  //for ie 9
  .no-flexwrap &
    display: inline-block
    vertical-align: top
    width: 25%

.footer-grid__item_catalog
  flex-basis: 50%
  width: 50%

.footer-grid__title
  display: block
  margin-bottom: 2.5rem
  padding: 0 round-float(nth($footer-grid-space, 2) / 2, 1) 0 nth($footer-grid-space, 2)
  +font-bold
  font-size: 16px
  line-height: 1.5
  color: white

  &:last-child
    margin-bottom: 0

  a
    color: currentColor
    text-decoration: none
    padding-top: 0.5em

    span
      $prop: box-shadow
      will-change: $prop
      transition:
        property: $prop
        duration: $animation-speed
        timing-function: ease-in-out

    // hover
    &:hover
      span
        box-shadow: inset 0 -2px 0 rgba(white, 0.6)

.footer-grid__content
  flex-grow: 1
  padding: 0 round-float(nth($footer-grid-space, 2) / 2, 1) 0 nth($footer-grid-space, 2)
  border-left: 1px solid rgba(#979797, 0.2)

.footer-grid__list
  list-style: none
  margin: 0 0 2rem
  padding: 0
  font-size: 1.4rem
  line-height: 1.5

  &:last-child
    margin-bottom: 0

  li
    display: inline-block
    vertical-align: top
    width: 100%
    margin-bottom: 0.4rem

    &:last-child
      margin-bottom: 0

  a
    color: rgba(white, 0.6)
    text-decoration: none
    padding-top: 0.5em

    &[href^="tel:"]
      +font-bold
      color: #d2d2d2

      i
        +font-normal
        font-style: normal

    span
      // transition
      $prop: box-shadow
      will-change: $prop
      transition:
        property: $prop
        duration: $animation-speed
        timing-function: ease-in-out

    // hover
    &:hover
      span
        box-shadow: inset 0 -2px 0 rgba(white, 0.6)

.footer-grid__item_catalog
  .footer-grid__content
    position: relative

    &::before
      content: ''
      display: block
      position: absolute
      border-left: 1px solid rgba(#979797, 0.2)
      height: 100%
      left: 50%

  .footer-grid__list
    column-count: 2
    column-gap: 8rem

.footer-grid__phones
  list-style: none
  margin: 0 0 3rem
  padding: 0
  font-size: 1.4rem
  line-height: 1.5

  &:last-child
    margin-bottom: 0

  li
    margin-bottom: 2rem

    &:last-child
      margin-bottom: 0

  a
    color: rgba(white, 0.6)
    text-decoration: none
    padding-top: 0.5em

    &[href^="tel:"]
      +font-bold
      color: #d2d2d2

      i
        +font-normal
        font-style: normal

    span
      // transition
      $prop: box-shadow
      will-change: $prop
      transition:
        property: $prop
        duration: $animation-speed
        timing-function: ease-in-out

    // hover
    &:hover
      span
        box-shadow: inset 0 -2px 0 rgba(white, 0.6)

/* footer-common end

/* soc-footer
.soc-footer
  overflow: hidden
  margin-bottom: 2.6rem
  line-height: 1

  &:last-child
    margin-bottom: 0

.soc-footer__list
  position: relative
  display: inline-block
  vertical-align: top
  letter-spacing: normal
  margin: 0 -8px -10px

.soc-footer__item
  float: left
  margin: 0 8px 10px

  a
    display: block
    position: relative
    +size(20px)
    color: #545454
    // transition
    $prop: color
    will-change: $prop
    transition:
      property: $prop
      duration: $animation-speed
      timing-function: ease-in-out

    span
      +hide-text

    svg
      +centering-transform-abs
      +size(20px)

    path
      fill: currentColor

    .no-touchevents &:hover
      &.fb
        color: $facebook-color

      &.vk
        color: $vkontakte-color

      &.twitter
        color: $twitter-color

      &.ok
        color: $odnoklassniki-color

      &.youtube
        color: $youtube-color

      &.telegram
        color: $telegram-color

      &.instagram
        color: $instagram-color-end

/* soc-footer end

/* btn-subs
.btn-subs
  position: relative
  display: inline-block
  vertical-align: top
  padding: 0.7rem 1.3rem 0.7rem 3.7rem
  margin-bottom: 2.5rem
  font-size: 1.4rem
  line-height: 1.8rem
  color: #e0e0e0
  text-decoration: none
  border: 1px solid #494949
  border-radius: 8px
  // transition
  $prop: border-color
  will-change: $prop
  transition:
    property: $prop
    duration: $animation-speed
    timing-function: ease-in-out

  &:last-child
    margin-bottom: 0

  svg
    $size: 18px
    display: block
    position: absolute
    top: 50%
    left: 1.3rem
    height: $size
    width: $size
    margin-top: -#{round($size / 2)}

    path, circle
      fill: #888
      // transition
      $prop: fill
      will-change: $prop
      transition:
        property: $prop
        duration: $animation-speed
        timing-function: ease-in-out

  // hover
  &:hover
    border-color: currentColor

    svg
      path, circle
        fill: currentColor

/* btn-subs end

/* footer bottom
.footer-bottom
  position: relative
  // обрезать вытянутый маржинами по горизонтале дочерний элемент
  overflow: hidden
  font-size: 1.2rem
  line-height: 1.4rem

.footer-bottom__holder
  position: relative
  display: flex
  flex-wrap: nowrap
  justify-content: space-between
  +margin-horizontal(-#{round(nth($grid-space, 2)/2)})
  margin-bottom: -#{round(nth($grid-space, 1)/2)}

.footer-bottom__col
  flex-basis: 160px
  text-align: center
  +padding-horizontal(round(nth($grid-space, 2)/2))
  margin-bottom: #{round(nth($grid-space, 1)/2)}

  &:nth-child(2)
    flex-basis: 500px

  // for ie 9
  .no-flexwrap &
    display: inline-block
    vertical-align: top
    width: calc(33.33% - 5px)

    +media('<mob-lg')
      width: 100%

  +media('<mob-lg')
    min-width: 100%

  &:first-child
    +media('>=mob-lg')
      text-align: left

  &:last-child
    +media('>=mob-lg')
      text-align: right

  a
    color: inherit
    text-decoration: none

    .no-touchevents &:hover
      text-decoration: underline

/* footer bottom end

/* license
.license
  color: rgba(#848484, 0.6)

/* license end

/* developer
.developer
  display: inline-block

  a
    text-decoration: none

    .no-touchevents &:hover
      text-decoration: none

.developer__label
  +media('<mob-lg')
    display: block

  i
    +media('<mob-lg')
      display: none

.developer__logo
  +display-inline-block-top
  position: relative
  top: 5px
  padding-right: 3px
  +size(154px, 20px)
  text-align: left
  text-indent: -9999px
  opacity: 0.3
  // transition
  $prop: opacity
  will-change: $prop
  transition:
    property: $prop
    duration: $animation-speed
    timing-function: ease-in-out

  &::before, &::after
    +pseudo()
    +position(0, 0)
    +size(149px, 16px)

  &::before
    +pseudo()
    +position(4px, 4px)
    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTMyIDc5LjE1OTI4NCwgMjAxNi8wNC8xOS0xMzoxMzo0MCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUuNSAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTA2ODc1N0UwOEJDMTFFNzlCNzhBOUI2REQxMjc4QzgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTA2ODc1N0YwOEJDMTFFNzlCNzhBOUI2REQxMjc4QzgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5MDY4NzU3QzA4QkMxMUU3OUI3OEE5QjZERDEyNzhDOCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5MDY4NzU3RDA4QkMxMUU3OUI3OEE5QjZERDEyNzhDOCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PnDruBQAAAAkSURBVHjaYmRgYPjPACL+/2cE0YwYAkAGA5jByPgfqwBAgAEAP4gP/bFMMZQAAAAASUVORK5CYII=')
    background-size: 2px

  &::after
    +pseudo()
    background: #00ef85 url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAAgBAMAAABa5liJAAAAMFBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABaPxwLAAAAD3RSTlMAd7tEIt0R7pkzzIhmqlV9QenDAAAD2klEQVRYw+2WPYsTURSGj5oEs0lMBkUUlMSUWkxwxNKsnV2ihWCVbGXpFwhWs6Io2GT0D2xQsM2KqGUEEUvFwjbxF7irO2ZMsh7PuRvP3Xuv2mhhkRd258zuvc/7bOaDhXnmmedvUi79S1rK2wcqp99XnyzSwVOhib4fBJWl98ciOuS9GsCuQzR5HNLY4akdW1ovDc6OvUCLPS7wPJ5lEKBU6FJJDiezI4Wa6qhCAny4AKwTIiZtgJ3YpLrPAICcNYAi7+ggAHyET7Udw22c4jrQYiQ1pJwFGTRQKnSpJI0xcAbxE+8e4R5Uq+HVajUCwCOHWyM6Qnn05BlWWGs60/K81lmPu7ELELJW+KF+wj8vHEPr5oEeLsuggVKhSyUrE+SzPbx+Fr8CHCwR9h1AFh9DpjdlrVhp6TXFeAPyMWudGfXvJovCMbRqkOp9kUGAUqGBOv3zuEqH3QRwtaB3GaAworqLMWklOLS0kgkUJgjshWQlHEsLGpsyaKCucLVaq4MmUOWvtfw1IiXqlolg57pfMbXq32NoXBMt4ThaC2MZNFAqXK0s1srf1KrSLz8tUn77HZhZIq1PXyyttTAqP+e646P+iyQSjq21M5ZBA6XC1cqNoDHhpzfcXHS18ryv/JVOMkor/dnW6iy3IqrL0C1/ctAUjq1FG2UQoFS4WukEFmIe3uDm0NK6daozbgMM1tTZO9LKY2RqNVdujIHrXsHb2p6hcGyt+lQGDZQKV2vlO+2NaEh1MH5palHu8OkWpUJamXDZ1Kqkx+ukJW954ZhaS2FXBg2UClerfxlSuKp4L9AUx3O9RJ3qTwvKG4ZWubIDN7ZpCcfQengU40gGDZQKV6v1jr6aoPIau+a9lVfCnS1KibUuJpZWiuj6aRGO9ZYf7QcZNFAqHK0sPg2CwTdQyfhTUwvKX7j7mzyJ9IQsmVrgv7S1mGNo7Q0iABk0UCocrRxyJrOzxrqldZEdPk1VQcRaKfQsLQBDSzhFhhZm7wWODAKUCkcrjZyxvAItrRyTLvHGdAysBZ2zrpavtTRngdctbLpaApQKV2uFxXO4CCpv7YuYQhoLOCSB6ZZWI96uNXC0hLObofWpqyVAqXC1+vxmy9JvC68A7ofXLS3obABtvNJewi5rcRtrBUHvUVD7udJfFp5wSOIR7ArPu1oClApHix9EStiFIlJGka3VSPiP5+vcZi1mb/9/y1+1iZrTx888uFoClAobkuWfK+GdIWK8H2ytAl+KrK8ebKUFvqFVsomas6eHeBt+pSVAqRCImyBow2+SCSL4c1wO76r9CTjPPPP8x/kBIrOdsjg4YcgAAAAASUVORK5CYII=') no-repeat center center
    background-size: auto 16px

  // hover
  &:hover
    opacity: 1

/* developer end
/* === FOOTER end ===